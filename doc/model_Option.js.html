<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: model/Option.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: model/Option.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Creates a new Option instance.
*
* @param {document} xml - XML document representing the option.
* @param {KAT.model.Field} field - field this option was declared in.
* @name KAT.model.Option
* @this {KAT.model.Option}
* @Alias KAT.model.Option
* @class
*/
KAT.model.Option = function(xml, field){
  //parse the XML
  try{
    /**
    * XML document representing concept.
    *
    * @type {document}
    * @name KAT.model.Option#xml
    */
    this.xml = jQuery(xml);
  } catch(e){
    throw new KAT.model.ParsingError("KAT.model.Option: Invalid XML (Unable to parse XML). ", this.xml);
  }

  /**
  * Field this concept was declared in.
  *
  * @type {Kat.model.Field}
  * @name KAT.model.Option#field
  */
  this.field = field;

  if(this.xml.find("value").length != 1){
    throw new KAT.model.ParsingError("KAT.model.Option: Invalid XML (Expected exactly one &lt;value>. )", this.xml);
  }

  /**
  * Value for this option.
  *
  * @type {string}
  * @name KAT.model.Option#value
  */
  this.value = this.xml.find("value").text();

  //Check that value is unique
  for(var i=0;i&lt;this.field.validation.length;i++){
    if(this.field.validation[i].value == this.value){
      throw new KAT.model.ParsingError("KAT.model.Option: Invalid XML (Value '"+this.value+"' already used). ", this.xml);
    }
  }


  if(this.xml.is("defaultoption")){
    if(this.field.default !== ""){
      throw new KAT.model.ParsingError("KAT.model.Option: Invalid XML (Default already exists)", this.xml);
    }
    this.field.default = this.value;
  }

  /**
  * RDF Obj for this Option or false.
  *
  * @type {string|boolean}
  * @name KAT.model.Option#rdf_obj
  */
  this.rdf_obj = false;

  if(typeof this.xml.attr("rdfobj") === "string"){
    this.rdf_obj = KAT.rdf.resolveWithNameSpace(this.xml.attr("rdfobj"), this.field.concept.KAnnSpec.xml);
  }

  /**
  * Documentation for this option.
  *
  * @type {string}
  * @name KAT.model.Option#documentation
  */
  this.documentation = this.xml.find("documentation").text();

  //check we do not have anything else.
  if(this.xml.children().length > 2){
    throw new KAT.model.ParsingError("KAT.model.Option: Invalid XML (Too many children. )", this.xml);
  }

};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="KAT.gui.html">gui</a></li><li><a href="KAT.model.Concept.html">Concept</a></li><li><a href="KAT.model.Field.html">Field</a></li><li><a href="KAT.model.KAnnSpec.html">KAnnSpec</a></li><li><a href="KAT.model.KAnnSpecCollection.html">KAnnSpecCollection</a></li><li><a href="KAT.model.Option.html">Option</a></li><li><a href="KAT.model.ParsingError.html">ParsingError</a></li><li><a href="KAT.storage.Annotation.html">Annotation</a></li><li><a href="KAT.storage.Store.html">Store</a></li></ul><h3>Namespaces</h3><ul><li><a href="KAT.html">KAT</a></li><li><a href="KAT.model.html">model</a></li><li><a href="KAT.module.html">module</a></li><li><a href="KAT.rdf.html">rdf</a></li><li><a href="KAT.sidebar.html">sidebar</a></li><li><a href="KAT.storage.html">storage</a></li></ul>
</nav>

<br class="clear">

<footer>
<<<<<<< HEAD
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Thu Apr 30 2015 15:34:57 GMT-0400 (EDT)
=======
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Wed Apr 29 2015 19:13:21 GMT+0200 (CEST)
>>>>>>> ba436cc69feec0359dcf63446ea73e77adf0926f
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
