<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: storage/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: storage/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* Namespace for storage used by KAT.
* @namespace
* @alias KAT.storage
*/
KAT.storage = {};

/**
  * Resolves a relative url.
	* @param {string} url	Url to resolve
	* @param {string} [base = "."]	Optional. Base url to use.
	* @param {boolean} [isDir = false]	Optional. If set to true, will return a directory name ending with a slash.

  * @returns {string} - An absolute (resolved) url.
  * @function
  * @static
  * @name resolve
  * @memberof KAT.storage
  */
KAT.storage.resolve = function(url, base, isDir){

  // read in parameters
	var resolveWithBase = false;
	var baseUrl, oldBase, newBase;

  // do we have a base to resolve first?
	if(typeof base === "string"){
		resolveWithBase = true;

    //resolve the &lt;base>
		baseUrl = arguments.callee(base, true);

		oldBase = jQuery("base").detach();
		newBase = jQuery("&lt;base>").attr("href", baseUrl).appendTo("head");
	}

  // create a link with the right url.
  // TODO: Cleanup this code.
  var el = document.createElement('div');
  el.innerHTML = '&lt;a href="'+jQuery('&lt;span/>').text(url).html()+'">x&lt;/a>';

  // take the absolute url from the div.
  var absUrl = el.firstChild.href;

  // remove the base if it was added.
  if(resolveWithBase){
  	newBase.remove();
  	oldBase.appendTo("head");
  }

  // add a slash to the directory.
  if( (base === true || isDir === true ) &amp;&amp; absUrl[absUrl.length - 1] != "/"){
    absUrl = absUrl + "/";
  }

  // return the absolute URL.
  return absUrl;
}; 
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="KAT.gui.html">gui</a></li><li><a href="KAT.model.Concept.html">Concept</a></li><li><a href="KAT.model.Field.html">Field</a></li><li><a href="KAT.model.KAnnSpec.html">KAnnSpec</a></li><li><a href="KAT.model.KAnnSpecCollection.html">KAnnSpecCollection</a></li><li><a href="KAT.model.Option.html">Option</a></li><li><a href="KAT.model.ParsingError.html">ParsingError</a></li><li><a href="KAT.storage.Annotation.html">Annotation</a></li><li><a href="KAT.storage.Store.html">Store</a></li></ul><h3>Namespaces</h3><ul><li><a href="KAT.html">KAT</a></li><li><a href="KAT.model.html">model</a></li><li><a href="KAT.module.html">module</a></li><li><a href="KAT.rdf.html">rdf</a></li><li><a href="KAT.sidebar.html">sidebar</a></li><li><a href="KAT.storage.html">storage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0</a> on Mon Oct 12 2015 00:17:22 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
